### Stage5 API Examples
### Use with VS Code REST Client extension

@baseUrl = http://localhost:8787
@deviceId = 123e4567-e89b-12d3-a456-426614174000

### Health Check
GET {{baseUrl}}/health

### Get Available Packs
GET {{baseUrl}}/payments/packs

### Create Checkout Session
POST {{baseUrl}}/payments/create-session
Content-Type: application/json

{
  "packId": "HOUR_1",
  "deviceId": "{{deviceId}}"
}

### Get Credits for Device
GET {{baseUrl}}/credits/{{deviceId}}

### Deduct Credits (Internal Use)
POST {{baseUrl}}/credits/{{deviceId}}/deduct
Content-Type: application/json

{
  "minutes": 30,
  "reason": "Translation session"
}

### Test Webhook (requires Stripe CLI)
# stripe listen --forward-to localhost:8787/stripe/webhook
# stripe trigger checkout.session.completed 